---
import Documentation from '../../../../layout/documentation.astro';

import { getCollection } from 'astro:content';
export async function getStaticPaths() {
  const postEntries = await getCollection('docs');
  return postEntries.map((entry) => {
    const [pkg, section] = entry.slug.split('/');
    return {
      params: { pkg, section },
      props: { entry },
    };
  });
}

const { entry } = Astro.props;
const { pkg, section } = entry.data;
const { Content, headings } = await entry.render();
---

<Documentation title={pkg}>
  <Content />
  {JSON.stringify(headings, null, 2)}
</Documentation>
